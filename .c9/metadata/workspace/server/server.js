{"filter":false,"title":"server.js","tooltip":"/server/server.js","undoManager":{"mark":20,"position":20,"stack":[[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":0},"end":{"row":5,"column":21}},"text":"            this.play"},{"action":"removeLines","range":{"start":{"row":1,"column":0},"end":{"row":5,"column":0}},"nl":"\n","lines":["(function (Utopia) {","    var Game = (function () {","        function Game(socketServer) {","            console.log('game server init');"]},{"action":"removeText","range":{"start":{"row":0,"column":4},"end":{"row":0,"column":11}},"text":"Utopia;"},{"action":"removeText","range":{"start":{"row":0,"column":4},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":0,"column":4},"end":{"row":0,"column":33}},"text":"express = require('express');"},{"action":"insertText","range":{"start":{"row":0,"column":33},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":8,"column":0}},"lines":["var http = require('http');","var io = require('socket.io');","","var Utopia;","(function (Utopia) {","    var app = express();","    var server = http.createServer(app);"]},{"action":"insertText","range":{"start":{"row":8,"column":0},"end":{"row":8,"column":18}},"text":"    var socketServ"},{"action":"removeText","range":{"start":{"row":8,"column":20},"end":{"row":8,"column":21}},"text":"s"},{"action":"removeText","range":{"start":{"row":9,"column":0},"end":{"row":9,"column":29}},"text":"            this.io = socketS"},{"action":"removeText","range":{"start":{"row":8,"column":23},"end":{"row":8,"column":26}},"text":"[];"},{"action":"removeText","range":{"start":{"row":8,"column":23},"end":{"row":9,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":8,"column":23},"end":{"row":8,"column":34}},"text":"io.listen(s"},{"action":"insertText","range":{"start":{"row":8,"column":39},"end":{"row":8,"column":40}},"text":")"},{"action":"removeText","range":{"start":{"row":9,"column":0},"end":{"row":9,"column":8}},"text":"        "},{"action":"insertText","range":{"start":{"row":9,"column":0},"end":{"row":10,"column":0}},"text":"\n"},{"action":"removeText","range":{"start":{"row":22,"column":0},"end":{"row":22,"column":4}},"text":"    "},{"action":"removeLines","range":{"start":{"row":11,"column":0},"end":{"row":22,"column":0}},"nl":"\n","lines":["            this.setEventHandlers();","        }","        Game.prototype.setEventHandlers = function () {","            this.io.sockets.on('connection', this.onSocketConnection);","        };","","        Game.prototype.onSocketConnection = function (client) {","            console.log('Player connected: ' + client.id);","            client.on('disconnect', this.onClientDisconnect);","            client.on('newPlayer', this.onNewPlayer);","            client.on('movePlayer', this.onMovePlayer);"]},{"action":"removeText","range":{"start":{"row":10,"column":16},"end":{"row":10,"column":39}},"text":"'initializing server');"},{"action":"removeText","range":{"start":{"row":10,"column":16},"end":{"row":11,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":10,"column":16},"end":{"row":10,"column":48}},"text":"\"Starting server on port 8080\");"},{"action":"insertText","range":{"start":{"row":10,"column":48},"end":{"row":11,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":11,"column":0},"end":{"row":17,"column":0}},"lines":["","    app.use(express.static(__dirname + '/client'));","","    app.get('/', function (req, res) {","        console.log('hello');","        res.sendfile('client/index.html');"]},{"action":"insertText","range":{"start":{"row":17,"column":5},"end":{"row":17,"column":6}},"text":")"},{"action":"removeText","range":{"start":{"row":31,"column":0},"end":{"row":31,"column":22}},"text":"    Utopia.Game = Game"},{"action":"removeLines","range":{"start":{"row":20,"column":0},"end":{"row":31,"column":0}},"nl":"\n","lines":["            console.log('Player has disconnected: ' + data.id);","        };","","        Game.prototype.onNewPlayer = function (data) {","            console.log('A New Player has Joined: ' + data.id);","        };","","        Game.prototype.onMovePlayer = function (data) {","        };","        return Game;","    })();"]},{"action":"removeText","range":{"start":{"row":19,"column":4},"end":{"row":19,"column":61}},"text":"    Game.prototype.onClientDisconnect = function (data) {"},{"action":"removeText","range":{"start":{"row":19,"column":4},"end":{"row":20,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":19,"column":4},"end":{"row":19,"column":24}},"text":"server.listen(8080);"},{"action":"insertText","range":{"start":{"row":19,"column":24},"end":{"row":20,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":20,"column":0},"end":{"row":21,"column":0}},"lines":[""]},{"action":"insertText","range":{"start":{"row":21,"column":0},"end":{"row":21,"column":33}},"text":"    console.log('Server started')"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":8,"column":0},"end":{"row":8,"column":34}},"text":"    var socketServer = io.listen(s"},{"action":"removeLines","range":{"start":{"row":1,"column":0},"end":{"row":8,"column":0}},"nl":"\n","lines":["var http = require('http');","var io = require('socket.io');","","var Utopia;","(function (Utopia) {","    var app = express();","    var server = http.createServer(app);"]},{"action":"removeText","range":{"start":{"row":0,"column":4},"end":{"row":0,"column":33}},"text":"express = require('express');"},{"action":"removeText","range":{"start":{"row":0,"column":4},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":0,"column":4},"end":{"row":0,"column":11}},"text":"Utopia;"},{"action":"insertText","range":{"start":{"row":0,"column":11},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":6,"column":0}},"lines":["(function (Utopia) {","    var Game = (function () {","        function Game(socketServer) {","            console.log('game server init');","            this.players = [];"]},{"action":"insertText","range":{"start":{"row":6,"column":0},"end":{"row":6,"column":29}},"text":"            this.io = socketS"},{"action":"removeText","range":{"start":{"row":6,"column":34},"end":{"row":6,"column":35}},"text":")"},{"action":"removeLines","range":{"start":{"row":7,"column":0},"end":{"row":8,"column":0}},"nl":"\n","lines":[""]},{"action":"insertText","range":{"start":{"row":7,"column":0},"end":{"row":7,"column":8}},"text":"        "},{"action":"removeLines","range":{"start":{"row":8,"column":0},"end":{"row":14,"column":0}},"nl":"\n","lines":["","    app.use(express.static(__dirname + '/client'));","","    app.get('/', function (req, res) {","        console.log('hello');","        res.sendfile('client/index.html');"]},{"action":"removeText","range":{"start":{"row":7,"column":24},"end":{"row":7,"column":56}},"text":"\"Starting server on port 8080\");"},{"action":"removeText","range":{"start":{"row":7,"column":24},"end":{"row":8,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":7,"column":24},"end":{"row":7,"column":47}},"text":"'initializing server');"},{"action":"insertText","range":{"start":{"row":7,"column":47},"end":{"row":8,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":8,"column":0},"end":{"row":19,"column":0}},"lines":["            this.setEventHandlers();","        }","        Game.prototype.setEventHandlers = function () {","            this.io.sockets.on('connection', this.onSocketConnection);","        };","","        Game.prototype.onSocketConnection = function (client) {","            console.log('Player connected: ' + client.id);","            client.on('disconnect', this.onClientDisconnect);","            client.on('newPlayer', this.onNewPlayer);","            client.on('movePlayer', this.onMovePlayer);"]},{"action":"insertText","range":{"start":{"row":19,"column":0},"end":{"row":19,"column":4}},"text":"    "},{"action":"removeText","range":{"start":{"row":19,"column":9},"end":{"row":19,"column":10}},"text":")"},{"action":"removeText","range":{"start":{"row":23,"column":0},"end":{"row":23,"column":33}},"text":"    console.log('Server started')"},{"action":"removeLines","range":{"start":{"row":22,"column":0},"end":{"row":23,"column":0}},"nl":"\n","lines":[""]},{"action":"removeText","range":{"start":{"row":21,"column":4},"end":{"row":21,"column":24}},"text":"server.listen(8080);"},{"action":"removeText","range":{"start":{"row":21,"column":4},"end":{"row":22,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":21,"column":4},"end":{"row":21,"column":61}},"text":"    Game.prototype.onClientDisconnect = function (data) {"},{"action":"insertText","range":{"start":{"row":21,"column":61},"end":{"row":22,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":22,"column":0},"end":{"row":33,"column":0}},"lines":["            console.log('Player has disconnected: ' + data.id);","        };","","        Game.prototype.onNewPlayer = function (data) {","            console.log('A New Player has Joined: ' + data.id);","        };","","        Game.prototype.onMovePlayer = function (data) {","        };","        return Game;","    })();"]},{"action":"insertText","range":{"start":{"row":33,"column":0},"end":{"row":33,"column":22}},"text":"    Utopia.Game = Game"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":0},"end":{"row":5,"column":21}},"text":"            this.play"},{"action":"removeLines","range":{"start":{"row":1,"column":0},"end":{"row":5,"column":0}},"nl":"\n","lines":["(function (Utopia) {","    var Game = (function () {","        function Game(socketServer) {","            console.log('game server init');"]},{"action":"removeText","range":{"start":{"row":0,"column":4},"end":{"row":0,"column":11}},"text":"Utopia;"},{"action":"removeText","range":{"start":{"row":0,"column":4},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":0,"column":4},"end":{"row":0,"column":33}},"text":"express = require('express');"},{"action":"insertText","range":{"start":{"row":0,"column":33},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":8,"column":0}},"lines":["var http = require('http');","var io = require('socket.io');","","var Utopia;","(function (Utopia) {","    var app = express();","    var server = http.createServer(app);"]},{"action":"insertText","range":{"start":{"row":8,"column":0},"end":{"row":8,"column":18}},"text":"    var socketServ"},{"action":"removeText","range":{"start":{"row":8,"column":20},"end":{"row":8,"column":21}},"text":"s"},{"action":"removeText","range":{"start":{"row":9,"column":0},"end":{"row":9,"column":29}},"text":"            this.io = socketS"},{"action":"removeText","range":{"start":{"row":8,"column":23},"end":{"row":8,"column":26}},"text":"[];"},{"action":"removeText","range":{"start":{"row":8,"column":23},"end":{"row":9,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":8,"column":23},"end":{"row":8,"column":34}},"text":"io.listen(s"},{"action":"insertText","range":{"start":{"row":8,"column":39},"end":{"row":8,"column":40}},"text":")"},{"action":"removeText","range":{"start":{"row":9,"column":0},"end":{"row":9,"column":8}},"text":"        "},{"action":"insertText","range":{"start":{"row":9,"column":0},"end":{"row":10,"column":0}},"text":"\n"},{"action":"removeText","range":{"start":{"row":22,"column":0},"end":{"row":22,"column":4}},"text":"    "},{"action":"removeLines","range":{"start":{"row":11,"column":0},"end":{"row":22,"column":0}},"nl":"\n","lines":["            this.setEventHandlers();","        }","        Game.prototype.setEventHandlers = function () {","            this.io.sockets.on('connection', this.onSocketConnection);","        };","","        Game.prototype.onSocketConnection = function (client) {","            console.log('Player connected: ' + client.id);","            client.on('disconnect', this.onClientDisconnect);","            client.on('newPlayer', this.onNewPlayer);","            client.on('movePlayer', this.onMovePlayer);"]},{"action":"removeText","range":{"start":{"row":10,"column":16},"end":{"row":10,"column":39}},"text":"'initializing server');"},{"action":"removeText","range":{"start":{"row":10,"column":16},"end":{"row":11,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":10,"column":16},"end":{"row":10,"column":48}},"text":"\"Starting server on port 8080\");"},{"action":"insertText","range":{"start":{"row":10,"column":48},"end":{"row":11,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":11,"column":0},"end":{"row":17,"column":0}},"lines":["","    app.use(express.static(__dirname + '/client'));","","    app.get('/', function (req, res) {","        console.log('hello');","        res.sendfile('client/index.html');"]},{"action":"insertText","range":{"start":{"row":17,"column":5},"end":{"row":17,"column":6}},"text":")"},{"action":"removeText","range":{"start":{"row":31,"column":0},"end":{"row":31,"column":22}},"text":"    Utopia.Game = Game"},{"action":"removeLines","range":{"start":{"row":20,"column":0},"end":{"row":31,"column":0}},"nl":"\n","lines":["            console.log('Player has disconnected: ' + data.id);","        };","","        Game.prototype.onNewPlayer = function (data) {","            console.log('A New Player has Joined: ' + data.id);","        };","","        Game.prototype.onMovePlayer = function (data) {","        };","        return Game;","    })();"]},{"action":"removeText","range":{"start":{"row":19,"column":4},"end":{"row":19,"column":61}},"text":"    Game.prototype.onClientDisconnect = function (data) {"},{"action":"removeText","range":{"start":{"row":19,"column":4},"end":{"row":20,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":19,"column":4},"end":{"row":19,"column":24}},"text":"server.listen(8080);"},{"action":"insertText","range":{"start":{"row":19,"column":24},"end":{"row":20,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":20,"column":0},"end":{"row":21,"column":0}},"lines":[""]},{"action":"insertText","range":{"start":{"row":21,"column":0},"end":{"row":21,"column":33}},"text":"    console.log('Server started')"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":6,"column":0},"end":{"row":6,"column":4}},"text":"    "},{"action":"removeLines","range":{"start":{"row":4,"column":0},"end":{"row":6,"column":0}},"nl":"\n","lines":["var Utopia;","(function (Utopia) {"]},{"action":"removeText","range":{"start":{"row":5,"column":0},"end":{"row":5,"column":4}},"text":"    "},{"action":"removeText","range":{"start":{"row":6,"column":0},"end":{"row":6,"column":4}},"text":"    "},{"action":"removeText","range":{"start":{"row":8,"column":0},"end":{"row":8,"column":4}},"text":"    "},{"action":"removeText","range":{"start":{"row":10,"column":0},"end":{"row":10,"column":4}},"text":"    "},{"action":"removeText","range":{"start":{"row":12,"column":0},"end":{"row":12,"column":4}},"text":"    "},{"action":"removeText","range":{"start":{"row":13,"column":4},"end":{"row":13,"column":7}},"text":"   "},{"action":"removeText","range":{"start":{"row":13,"column":4},"end":{"row":13,"column":5}},"text":" "},{"action":"removeText","range":{"start":{"row":14,"column":0},"end":{"row":14,"column":4}},"text":"    "},{"action":"removeText","range":{"start":{"row":15,"column":0},"end":{"row":15,"column":4}},"text":"    "},{"action":"removeText","range":{"start":{"row":17,"column":0},"end":{"row":17,"column":4}},"text":"    "},{"action":"removeText","range":{"start":{"row":19,"column":0},"end":{"row":19,"column":4}},"text":"    "},{"action":"removeLines","range":{"start":{"row":20,"column":0},"end":{"row":21,"column":0}},"nl":"\n","lines":["})(Utopia || (Utopia = {}));"]}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":0,"column":0},"end":{"row":4,"column":0}},"nl":"\n","lines":["var express = require('express');","var http = require('http');","var io = require('socket.io');",""]},{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":110}},"text":"define([\"require\", \"exports\", 'express', 'http', 'socket.io'], function(require, exports, express, http, io) {"},{"action":"insertText","range":{"start":{"row":0,"column":110},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":3,"column":0}},"lines":["    var Utopia;","    (function (Utopia) {"]},{"action":"insertText","range":{"start":{"row":3,"column":0},"end":{"row":3,"column":8}},"text":"        "},{"action":"insertText","range":{"start":{"row":4,"column":0},"end":{"row":4,"column":8}},"text":"        "},{"action":"insertText","range":{"start":{"row":5,"column":0},"end":{"row":5,"column":8}},"text":"        "},{"action":"insertText","range":{"start":{"row":7,"column":0},"end":{"row":7,"column":8}},"text":"        "},{"action":"insertText","range":{"start":{"row":9,"column":0},"end":{"row":9,"column":8}},"text":"        "},{"action":"insertText","range":{"start":{"row":11,"column":0},"end":{"row":11,"column":8}},"text":"        "},{"action":"insertText","range":{"start":{"row":12,"column":0},"end":{"row":12,"column":8}},"text":"        "},{"action":"insertText","range":{"start":{"row":13,"column":0},"end":{"row":13,"column":8}},"text":"        "},{"action":"removeLines","range":{"start":{"row":14,"column":0},"end":{"row":16,"column":0}},"nl":"\n","lines":["});",""]},{"action":"insertText","range":{"start":{"row":14,"column":0},"end":{"row":14,"column":11}},"text":"        });"},{"action":"insertText","range":{"start":{"row":14,"column":11},"end":{"row":15,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":15,"column":0},"end":{"row":16,"column":0}},"lines":[""]},{"action":"insertText","range":{"start":{"row":16,"column":0},"end":{"row":16,"column":8}},"text":"        "},{"action":"insertText","range":{"start":{"row":18,"column":0},"end":{"row":18,"column":8}},"text":"        "},{"action":"insertText","range":{"start":{"row":19,"column":0},"end":{"row":19,"column":32}},"text":"    })(Utopia || (Utopia = {}));"},{"action":"insertText","range":{"start":{"row":19,"column":32},"end":{"row":20,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":20,"column":0},"end":{"row":21,"column":0}},"lines":["});"]}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":107}},"text":"define([\"require\", \"exports\", 'express', 'http', 'socket.io'], function(require, exports, express, http, io"},{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":11}},"text":"var Utopia;"},{"action":"insertText","range":{"start":{"row":0,"column":11},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":1,"column":0},"end":{"row":1,"column":17}},"text":"(function (Utopia"},{"action":"removeText","range":{"start":{"row":3,"column":0},"end":{"row":3,"column":3}},"text":"   "},{"action":"removeText","range":{"start":{"row":2,"column":8},"end":{"row":2,"column":15}},"text":"Utopia;"},{"action":"removeText","range":{"start":{"row":2,"column":8},"end":{"row":3,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":2,"column":8},"end":{"row":2,"column":14}},"text":"Game ="},{"action":"removeText","range":{"start":{"row":2,"column":26},"end":{"row":2,"column":32}},"text":"Utopia"},{"action":"removeText","range":{"start":{"row":5,"column":0},"end":{"row":5,"column":22}},"text":"        var socketServ"},{"action":"removeLines","range":{"start":{"row":4,"column":0},"end":{"row":5,"column":0}},"nl":"\n","lines":["        var server = http.createServer(app);"]},{"action":"removeText","range":{"start":{"row":3,"column":8},"end":{"row":3,"column":28}},"text":"var app = express();"},{"action":"removeText","range":{"start":{"row":3,"column":8},"end":{"row":4,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":3,"column":8},"end":{"row":3,"column":37}},"text":"function Game(socketServer) {"},{"action":"insertText","range":{"start":{"row":3,"column":37},"end":{"row":4,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":4,"column":0},"end":{"row":5,"column":0}},"lines":["            console.log('game server init');"]},{"action":"insertText","range":{"start":{"row":5,"column":0},"end":{"row":5,"column":21}},"text":"            this.play"},{"action":"insertText","range":{"start":{"row":5,"column":23},"end":{"row":5,"column":24}},"text":"s"},{"action":"removeText","range":{"start":{"row":5,"column":27},"end":{"row":5,"column":38}},"text":"io.listen(s"},{"action":"insertText","range":{"start":{"row":5,"column":27},"end":{"row":5,"column":30}},"text":"[];"},{"action":"insertText","range":{"start":{"row":5,"column":30},"end":{"row":6,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":6,"column":0},"end":{"row":6,"column":29}},"text":"            this.io = socketS"},{"action":"removeText","range":{"start":{"row":6,"column":34},"end":{"row":6,"column":35}},"text":")"},{"action":"removeLines","range":{"start":{"row":7,"column":0},"end":{"row":8,"column":0}},"nl":"\n","lines":[""]},{"action":"insertText","range":{"start":{"row":7,"column":0},"end":{"row":7,"column":4}},"text":"    "},{"action":"removeText","range":{"start":{"row":11,"column":0},"end":{"row":11,"column":20}},"text":"        app.get('/',"},{"action":"removeLines","range":{"start":{"row":8,"column":0},"end":{"row":11,"column":0}},"nl":"\n","lines":["","        app.use(express.static(__dirname + '/client'));",""]},{"action":"removeText","range":{"start":{"row":7,"column":24},"end":{"row":7,"column":56}},"text":"\"Starting server on port 8080\");"},{"action":"removeText","range":{"start":{"row":7,"column":24},"end":{"row":8,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":7,"column":24},"end":{"row":7,"column":47}},"text":"'initializing server');"},{"action":"insertText","range":{"start":{"row":7,"column":47},"end":{"row":8,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":8,"column":0},"end":{"row":14,"column":0}},"lines":["            this.setEventHandlers();","        }","        Game.prototype.setEventHandlers = function () {","            this.io.sockets.on('connection', this.onSocketConnection);","        };",""]},{"action":"insertText","range":{"start":{"row":14,"column":0},"end":{"row":14,"column":43}},"text":"        Game.prototype.onSocketConnection ="},{"action":"removeText","range":{"start":{"row":14,"column":54},"end":{"row":14,"column":62}},"text":"req, res"},{"action":"insertText","range":{"start":{"row":14,"column":54},"end":{"row":14,"column":60}},"text":"client"},{"action":"removeText","range":{"start":{"row":16,"column":0},"end":{"row":16,"column":44}},"text":"            res.sendfile('client/index.html'"},{"action":"removeText","range":{"start":{"row":15,"column":25},"end":{"row":15,"column":33}},"text":"hello');"},{"action":"removeText","range":{"start":{"row":15,"column":25},"end":{"row":16,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":15,"column":25},"end":{"row":15,"column":58}},"text":"Player connected: ' + client.id);"},{"action":"insertText","range":{"start":{"row":15,"column":58},"end":{"row":16,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":16,"column":0},"end":{"row":18,"column":0}},"lines":["            client.on('disconnect', this.onClientDisconnect);","            client.on('newPlayer', this.onNewPlayer);"]},{"action":"insertText","range":{"start":{"row":18,"column":0},"end":{"row":18,"column":53}},"text":"            client.on('movePlayer', this.onMovePlayer"},{"action":"removeText","range":{"start":{"row":19,"column":9},"end":{"row":19,"column":10}},"text":")"},{"action":"removeText","range":{"start":{"row":24,"column":0},"end":{"row":24,"column":4}},"text":"    "},{"action":"removeLines","range":{"start":{"row":22,"column":0},"end":{"row":24,"column":0}},"nl":"\n","lines":["","        console.log('Server started');"]},{"action":"removeText","range":{"start":{"row":21,"column":8},"end":{"row":21,"column":28}},"text":"server.listen(8080);"},{"action":"removeText","range":{"start":{"row":21,"column":8},"end":{"row":22,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":21,"column":8},"end":{"row":21,"column":61}},"text":"Game.prototype.onClientDisconnect = function (data) {"},{"action":"insertText","range":{"start":{"row":21,"column":61},"end":{"row":22,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":22,"column":0},"end":{"row":34,"column":0}},"lines":["            console.log('Player has disconnected: ' + data.id);","        };","","        Game.prototype.onNewPlayer = function (data) {","            console.log('A New Player has Joined: ' + data.id);","        };","","        Game.prototype.onMovePlayer = function (data) {","        };","        return Game;","    })();","    Utopia.Game = Game;"]},{"action":"removeLines","range":{"start":{"row":35,"column":0},"end":{"row":36,"column":0}},"nl":"\n","lines":["});"]}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":0},"end":{"row":5,"column":21}},"text":"            this.play"},{"action":"removeLines","range":{"start":{"row":0,"column":0},"end":{"row":5,"column":0}},"nl":"\n","lines":["var Utopia;","(function (Utopia) {","    var Game = (function () {","        function Game(socketServer) {","            console.log('game server init');"]},{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":110}},"text":"define([\"require\", \"exports\", 'express', 'http', 'socket.io'], function(require, exports, express, http, io) {"},{"action":"insertText","range":{"start":{"row":0,"column":110},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":3,"column":0}},"lines":["    var app = express();","    var server = http.createServer(app);"]},{"action":"insertText","range":{"start":{"row":3,"column":0},"end":{"row":3,"column":18}},"text":"    var socketServ"},{"action":"removeText","range":{"start":{"row":3,"column":20},"end":{"row":3,"column":21}},"text":"s"},{"action":"removeText","range":{"start":{"row":4,"column":0},"end":{"row":4,"column":29}},"text":"            this.io = socketS"},{"action":"removeText","range":{"start":{"row":3,"column":23},"end":{"row":3,"column":26}},"text":"[];"},{"action":"removeText","range":{"start":{"row":3,"column":23},"end":{"row":4,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":3,"column":23},"end":{"row":3,"column":34}},"text":"io.listen(s"},{"action":"insertText","range":{"start":{"row":3,"column":39},"end":{"row":3,"column":40}},"text":")"},{"action":"removeText","range":{"start":{"row":4,"column":0},"end":{"row":4,"column":8}},"text":"        "},{"action":"insertText","range":{"start":{"row":4,"column":0},"end":{"row":5,"column":0}},"text":"\n"},{"action":"removeText","range":{"start":{"row":10,"column":0},"end":{"row":10,"column":9}},"text":"        }"},{"action":"removeLines","range":{"start":{"row":6,"column":0},"end":{"row":10,"column":0}},"nl":"\n","lines":["            this.setEventHandlers();","        }","        Game.prototype.setEventHandlers = function () {","            this.io.sockets.on('connection', this.onSocketConnection);"]},{"action":"removeText","range":{"start":{"row":5,"column":16},"end":{"row":5,"column":39}},"text":"'initializing server');"},{"action":"removeText","range":{"start":{"row":5,"column":16},"end":{"row":6,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":5,"column":16},"end":{"row":5,"column":48}},"text":"\"Starting server on port 8080\");"},{"action":"insertText","range":{"start":{"row":5,"column":48},"end":{"row":6,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":6,"column":0},"end":{"row":7,"column":0}},"lines":[""]},{"action":"insertText","range":{"start":{"row":7,"column":0},"end":{"row":7,"column":50}},"text":"    app.use(express.static(__dirname + '/client'))"},{"action":"removeText","range":{"start":{"row":9,"column":4},"end":{"row":9,"column":6}},"text":"  "},{"action":"removeText","range":{"start":{"row":13,"column":0},"end":{"row":13,"column":53}},"text":"            client.on('movePlayer', this.onMovePlayer"},{"action":"removeLines","range":{"start":{"row":10,"column":0},"end":{"row":13,"column":0}},"nl":"\n","lines":["            console.log('Player connected: ' + client.id);","            client.on('disconnect', this.onClientDisconnect);","            client.on('newPlayer', this.onNewPlayer);"]},{"action":"removeText","range":{"start":{"row":9,"column":4},"end":{"row":9,"column":61}},"text":"  Game.prototype.onSocketConnection = function (client) {"},{"action":"removeText","range":{"start":{"row":9,"column":4},"end":{"row":10,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":9,"column":4},"end":{"row":9,"column":38}},"text":"app.get('/', function (req, res) {"},{"action":"insertText","range":{"start":{"row":9,"column":38},"end":{"row":10,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":10,"column":0},"end":{"row":11,"column":0}},"lines":["        console.log('hello');"]},{"action":"insertText","range":{"start":{"row":11,"column":0},"end":{"row":11,"column":40}},"text":"        res.sendfile('client/index.html'"},{"action":"removeText","range":{"start":{"row":12,"column":4},"end":{"row":12,"column":5}},"text":" "},{"action":"removeText","range":{"start":{"row":12,"column":4},"end":{"row":12,"column":7}},"text":"   "},{"action":"insertText","range":{"start":{"row":12,"column":5},"end":{"row":12,"column":6}},"text":")"},{"action":"removeText","range":{"start":{"row":27,"column":0},"end":{"row":27,"column":26}},"text":"})(Utopia || (Utopia = {})"},{"action":"removeLines","range":{"start":{"row":15,"column":0},"end":{"row":27,"column":0}},"nl":"\n","lines":["            console.log('Player has disconnected: ' + data.id);","        };","","        Game.prototype.onNewPlayer = function (data) {","            console.log('A New Player has Joined: ' + data.id);","        };","","        Game.prototype.onMovePlayer = function (data) {","        };","        return Game;","    })();","    Utopia.Game = Game;"]},{"action":"removeText","range":{"start":{"row":14,"column":4},"end":{"row":14,"column":61}},"text":"    Game.prototype.onClientDisconnect = function (data) {"},{"action":"removeText","range":{"start":{"row":14,"column":4},"end":{"row":15,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":14,"column":4},"end":{"row":14,"column":24}},"text":"server.listen(8080);"},{"action":"insertText","range":{"start":{"row":14,"column":24},"end":{"row":15,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":15,"column":0},"end":{"row":17,"column":0}},"lines":["","    console.log('Server started');"]},{"action":"insertText","range":{"start":{"row":17,"column":0},"end":{"row":17,"column":1}},"text":"}"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":1,"column":0},"end":{"row":1,"column":4}},"text":"    "},{"action":"removeLines","range":{"start":{"row":0,"column":0},"end":{"row":1,"column":0}},"nl":"\n","lines":["define([\"require\", \"exports\", 'express', 'http', 'socket.io'], function(require, exports, express, http, io) {"]},{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":33}},"text":"var express = require('express');"},{"action":"insertText","range":{"start":{"row":0,"column":33},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":4,"column":0}},"lines":["var http = require('http');","var io = require('socket.io');",""]},{"action":"removeText","range":{"start":{"row":5,"column":0},"end":{"row":5,"column":4}},"text":"    "},{"action":"removeText","range":{"start":{"row":6,"column":0},"end":{"row":6,"column":4}},"text":"    "},{"action":"removeText","range":{"start":{"row":8,"column":0},"end":{"row":8,"column":4}},"text":"    "},{"action":"removeText","range":{"start":{"row":10,"column":0},"end":{"row":10,"column":4}},"text":"    "},{"action":"removeText","range":{"start":{"row":12,"column":0},"end":{"row":12,"column":4}},"text":"    "},{"action":"removeText","range":{"start":{"row":13,"column":0},"end":{"row":13,"column":4}},"text":"    "},{"action":"removeText","range":{"start":{"row":14,"column":0},"end":{"row":14,"column":4}},"text":"    "},{"action":"removeText","range":{"start":{"row":15,"column":0},"end":{"row":15,"column":4}},"text":"    "},{"action":"removeText","range":{"start":{"row":17,"column":0},"end":{"row":17,"column":4}},"text":"    "},{"action":"removeText","range":{"start":{"row":19,"column":0},"end":{"row":19,"column":4}},"text":"    "},{"action":"removeLines","range":{"start":{"row":20,"column":0},"end":{"row":21,"column":0}},"nl":"\n","lines":["});"]}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":15,"column":3},"end":{"row":16,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":16,"column":0},"end":{"row":17,"column":0}},"lines":[""]}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":0},"end":{"row":17,"column":1}},"text":"G"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":1},"end":{"row":17,"column":4}},"text":"ame"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":17,"column":0},"end":{"row":17,"column":4}},"text":"Game"},{"action":"removeLines","range":{"start":{"row":16,"column":0},"end":{"row":17,"column":0}},"nl":"\n","lines":[""]},{"action":"removeText","range":{"start":{"row":15,"column":3},"end":{"row":16,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":2,"column":30},"end":{"row":3,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":3,"column":0},"end":{"row":3,"column":27}},"text":"var Game = require('game');"},{"action":"insertText","range":{"start":{"row":18,"column":0},"end":{"row":18,"column":39}},"text":"var game = new Game.Game(socketServer);"},{"action":"insertText","range":{"start":{"row":18,"column":39},"end":{"row":19,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":19,"column":0},"end":{"row":20,"column":0}},"lines":[""]}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":3,"column":4},"end":{"row":3,"column":8}},"text":"Game"},{"action":"insertText","range":{"start":{"row":3,"column":4},"end":{"row":3,"column":10}},"text":"Utopia"},{"action":"removeText","range":{"start":{"row":18,"column":15},"end":{"row":18,"column":19}},"text":"Game"},{"action":"insertText","range":{"start":{"row":18,"column":15},"end":{"row":18,"column":21}},"text":"Utopia"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":15},"end":{"row":18,"column":22}},"text":"Utopia."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":15},"end":{"row":18,"column":22}},"text":"Utopia."}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":3,"column":0},"end":{"row":3,"column":29}},"text":"var Utopia = require('game');"},{"action":"removeText","range":{"start":{"row":2,"column":30},"end":{"row":3,"column":0}},"text":"\n"},{"action":"removeLines","range":{"start":{"row":17,"column":0},"end":{"row":19,"column":0}},"nl":"\n","lines":["var game = new Utopia.Game(socketServer);",""]}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":10,"column":36},"end":{"row":10,"column":38}},"text":".."}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":10,"column":23},"end":{"row":10,"column":38}},"text":"__dirname + '.."},{"action":"insertText","range":{"start":{"row":10,"column":23},"end":{"row":10,"column":24}},"text":"'"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":10,"column":0},"end":{"row":10,"column":23}},"text":"console.log(__dirname);"},{"action":"insertText","range":{"start":{"row":10,"column":23},"end":{"row":11,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":11,"column":0},"end":{"row":12,"column":0}},"lines":[""]}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":10,"column":0},"end":{"row":12,"column":0}},"nl":"\n","lines":["console.log(__dirname);",""]},{"action":"insertText","range":{"start":{"row":10,"column":24},"end":{"row":10,"column":26}},"text":".."}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":21,"column":0},"end":{"row":21,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":11,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1407273819976,"hash":"56b0b919ec56407fc7c8fc50060bff2c51928747"}